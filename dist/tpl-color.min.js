!function(){"use strict";angular.module("tpl.color",["tpl.scope-listener-manager"])}(),function(){"use strict";function a(){function a(){angular.forEach(e,function(a){f[a]=null})}function b(a,b){f.key=b}function c(){return f}function d(){return e}var e=["primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","tertiaryColor"],f={},g={setColor:b,getColors:c,getColorNames:d};return a(),g}angular.module("tpl.color").service("tplColorService",a)}(),function(){"use strict";angular.module("tpl.color").directive("tplColor",["$timeout","$rootScope","scopeListenerManager","$compile","$document","tplColorService",function(a,b,c,d,e,f){return{link:function(g,h,i){var j,k,l,m=f.getColorNames(),n=i.tplColor.replace(/ /g,""),o=[];g.colors={};var p={primaryColor:[],secondaryColor:[],primaryFontColor:[],secondaryFontColor:[],tertiaryColor:[]},q={primaryColor:[],secondaryColor:[],primaryFontColor:[],secondaryFontColor:[],tertiaryColor:[]};c.saveAddListener(g,g.$watch("colors."+m[0],function(b){b&&o&&o.length>0&&(j(m[0]),a(function(){angular.forEach(o,function(a){a.color===m[0]&&k(a,b)})}))})),c.saveAddListener(g,g.$watch("colors."+m[1],function(b){b&&o&&o.length>0&&(j(m[2]),a(function(){angular.forEach(o,function(a){a.color===m[1]&&k(a,b)})}))})),c.saveAddListener(g,g.$watch("colors."+m[2],function(b){b&&o&&o.length>0&&(j(m[2]),a(function(){angular.forEach(o,function(a){a.color===m[2]&&k(a,b)})}))})),c.saveAddListener(g,g.$watch("colors."+m[3],function(b){b&&o&&o.length>0&&(j(m[3]),a(function(){angular.forEach(o,function(a){a.color===m[3]&&k(a,b)})}))})),c.saveAddListener(g,g.$watch("colors."+m[4],function(b){b&&o&&o.length>0&&(j(m[4]),a(function(){angular.forEach(o,function(a){a.color===m[4]&&k(a,b)})}))})),g.$on("$destroy",function(){j()});var r=function(){m=f.getColorNames(),g.colors=f.getColors(),angular.forEach(n.split(";"),function(a){for(var b={color:null,attribute:null,selector:null},c=a.split(":"),d=0;d<c.length;d++)c[d]&&(0===d?b.color=c[d]:1===d?b.attribute=c[d]:2===d&&(b.selector=c[d]));o.push(b)}),angular.forEach(o,function(a){a.color===m[0]&&k(a,b[m[0]]),a.color===m[1]&&k(a,b[m[1]]),a.color===m[2]&&k(a,b[m[2]]),a.color===m[3]&&k(a,b[m[3]])})};j=function(a){a?(angular.forEach(p[a],function(a){h.off(a),h.off(a)}),angular.forEach(q[a],function(a){a.remove()})):angular.forEach(m,function(a){angular.forEach(p[a],function(a){h.off(a),h.off(a)}),angular.forEach(q[a],function(a){a.remove()})})},k=function(a,b){if("hover"===a.selector)l(a.attribute,b);else if("active"===a.selector){var c=h.attr("id");c||(c="x"+Math.random().toString(36).substring(7)),h.attr("id",c);var f="<style>#"+c+".active {"+a.attribute+":"+b+";}</style>",i=d(f)(g);e.find("head").append(i),q[a.color].push(i)}else h.css(a.attribute,b)},l=function(a,b){var c=h.css(a.attribute);p[a.color].element.on("mouseenter",function(){h.css(a.attribute,b)}),p[a.color].element.on("mouseleave",function(){h.css(a.attribute,c)})},r()}}}])}();